/* ==========================================================================
   Finální styly pro detail příběhu - Kniha Slova
   ========================================================================== */

/* === KLÍČOVÁ ÚPRAVA: Roztažení hlavního kontejneru na PC a tabletu === */
@media (min-width: 768px) {
    .single-evangelijni_pribeh .content-container.site-container {
        max-width: 100%;
    }
}

/* === Základní layout a odsazení === */

/* Zmenšení mezery NAD hlavním nadpisem na PC */
@media (min-width: 1025px) {
    .single-evangelijni_pribeh .content-area {
        margin-top: 2rem !important;
    }
}

/* Odsazení celého obsahu od bočních okrajů */
.story-detail {
    padding-left: 7px;
    padding-right: 7px;
}


/* === Kontejner pro nadpis a tlačítko "Zpět" === */

.page-header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    gap: 20px;
}

/* Nadpis stránky - vycentrování */
.page-header-container .page-title {
    flex-grow: 1;
    text-align: center;
    margin: 0;
}

/* Tlačítko "Zpět na všechny příběhy" */
.page-header-container .button-link-archive {
    display: inline-block;
    padding: 8px 15px;
    background-color: #514332;
    color: #f5f2eb;
    border: 1px solid #b7a99a;
    border-radius: 5px;
    text-decoration: none;
    white-space: nowrap;
    transition: background-color 0.3s, color 0.3s;
}

.page-header-container .button-link-archive:hover {
    background-color: #b7a99a;
    color: #3e2f1c;
}


/* === Přepínač záložek (tabů) === */

.story-detail .view-switcher,
.story-detail .evangelist-switcher {
    margin-bottom: 25px;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
}

/* Vzhled neaktivní záložky */
.story-detail .nav-tab {
    padding: 10px 15px;
    border: 1px solid transparent;
    cursor: pointer;
    background-color: #b7a99a;
    color: #ffffff;
    margin-right: 0;
    border-radius: 5px 5px 0 0;
    opacity: 0.8;
}

/* Vzhled aktivní záložky */
.story-detail .nav-tab.active {
    border-color: #ddd;
    border-bottom-color: white;
    background-color: white;
    font-weight: bold;
    color: #333333;
    opacity: 1;
}


/* === Mřížka pro porovnání === */

.tab-content,
.evangelist-translation-content {
    display: none;
}

.tab-content.active,
.evangelist-translation-content.active {
    display: block;
}

.comparison-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.grid-column {
    flex: 1;
    min-width: 250px;
    border: 1px solid #eee;
    padding: 15px;
    border-radius: 5px;
}

.grid-column h3 {
    margin-top: 0;
}

.grid-column .citation,
.evangelist-translation-content h4 span {
    font-size: 0.9em;
    color: #EDF2F7;
    font-style: italic;
}

.evangelist-translation-content h4 {
    margin-top: 0;
}

/* Přidání mezery mezi nadpisem překladu (např. "Katolický překlad") a textem */
.single-evangelijni_pribeh #translations-view .grid-column h3 {
    margin-bottom: 7px;
}

/* === Styly pro boxy s překlady === */

/*
 * Poznámka: Toto řešení cílí na boxy podle jejich pořadí (první, druhý, třetí).
 * Je funkční, dokud je pořadí překladů vždy stejné.
*/

/* Modrá barva pro text Katolického překladu (první box) */
.single-evangelijni_pribeh #translations-view .grid-column:nth-of-type(1) .text-content {
    color: #8ED1FC; /* Světle modrá pro dobrou čitelnost */
}

/* Zelená barva pro text Ekumenického překladu (druhý box) */
.single-evangelijni_pribeh #translations-view .grid-column:nth-of-type(2) .text-content {
    color: #7bdcb5; /* Světle zeleno-tyrkysová pro dobrou čitelnost */
}

/* Červená barva pro text Jeruzalémského překladu (třetí box) */
.single-evangelijni_pribeh #translations-view .grid-column:nth-of-type(3) .text-content {
    color: #F78DA7; /* Světle červeno-růžová pro dobrou čitelnost */
}



/* === MOBILNÍ ZOBRAZENÍ (šířka 767px a méně) === */

@media (max-width: 767px) {
    /* Skryjeme tlačítko "Zpět" */
    .page-header-container .back-to-archive-link {
        display: none;
    }

    /* Zajistíme, že nadpis zůstane na středu */
    .page-header-container {
        justify-content: center;
    }
    
    /* Vycentrování záložek na mobilu */
    .story-detail .view-switcher {
        justify-content: center;
    }

    /* Snížení výšky a velikosti záložek na mobilu pro kompaktnější vzhled */
    .story-detail .nav-tab {
        padding: 5px 10px; /* 5px nahoře/dole, 10px vlevo/vpravo */
        font-size: 0.9em;  /* Mírně zmenšíme písmo */
    }
}

/* === Styly pro záložku Exegeze === */

.exegesis-switcher {
    margin-left: 20px;
    margin-bottom: 20px;
}

.exegesis-content {
    display: none;
}

.exegesis-content.active {
    display: block;
}

.exegesis-base-text {
    background-color: #d8d5d1; /* <<< TUTO HODNOTU JSEM ZMĚNIL */
    border-left: 3px solid #514332; /* Tmavší ohraničení pro kontrast */
    padding: 15px 20px;
    margin-bottom: 25px;
    font-size: 0.95em;
    color: #3e2f1c; /* Tmavší text pro lepší čitelnost */
    border-radius: 5px; /* Zaoblení rohů, stejné jako u záložek */
}

.exegesis-base-text h4 {
    margin-top: 0;
    color: #333;
}

.exegesis-base-text p {
    margin-bottom: 0;
}

/* Styly pro záložku Duchovní výklad */
.spiritual-switcher {
    margin-left: 20px;
    margin-bottom: 20px;
}

.spiritual-content {
    display: none;
}

.spiritual-content.active {
    display: block;
}

/* === Styly pro AI Audio Přehrávač === */

.podcast-player-container {
    padding: 30px 15px;
}

.ai-audio-player {
    display: flex;
    align-items: center;
    gap: 15px;
    background-color: #f5f2eb;
    border-radius: 50px;
    padding: 8px 15px;
    max-width: 450px;
    margin: 0 auto;
    border: 1px solid #d8d5d1;
}

.ai-audio-player .play-pause-btn {
    background-color: #514332;
    color: #ffffff;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: background-color 0.3s;
    flex-shrink: 0; /* Zabrání zmenšení tlačítka */
}

.ai-audio-player .play-pause-btn:hover {
    background-color: #3e2f1c;
}

.ai-audio-player .play-pause-btn .fa {
    font-size: 16px;
    line-height: 1;
}

.ai-audio-player .progress-bar-wrapper {
    flex-grow: 1;
    background-color: #d8d5d1;
    height: 8px;
    border-radius: 4px;
    cursor: pointer;
    overflow: hidden; /* Důležité pro zaoblení vnitřního baru */
}

.ai-audio-player .progress-bar {
    background-color: #b7a99a;
    height: 100%;
    width: 0%;
    border-radius: 4px;
    transition: width 0.1s linear;
}

.ai-audio-player .time-display {
    font-size: 0.9em;
    color: #3e2f1c;
    font-family: monospace; /* Zajistí konzistentní šířku znaků */
    flex-shrink: 0; /* Zabrání zmenšení času */
}