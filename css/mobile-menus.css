/* STYLY PRO LEVÉ A PRAVÉ VYSOUVACÍ MENU */

/* --- Vlastní levé vysouvací menu --- */

/* Hlavní kontejner menu. Je to neviditelná vrstva přes celou obrazovku. */
.popup-drawer-left {
    position: fixed; /* Zůstává na místě i při scrollování stránky. */
    top: 0; left: 0; right: 0; bottom: 0; /* Roztáhne se přes celou obrazovku. */
    z-index: 100000; /* Vysoký z-index zajišťuje, že bude vždy navrchu. */
    visibility: hidden; /* Ve výchozím stavu je kompletně skrytý a neaktivní. */
}

/* Vnitřní panel, který se reálně vysouvá. */
.popup-drawer-left .drawer-inner-left {
    position: fixed; /* Také fixní pozice. */
    top: 0; left: 0; bottom: 0; /* Přichycen k levému okraji. */
    width: 100%; /* Šířka 100 %, ale... */
    max-width: 320px; /* ...maximálně 320px. Na větších mobilech nezabere celou šířku. */
    background: #514332; /* Výchozí tmavě hnědé pozadí. */
    color: #fff; /* Bílá barva textu. */
    transform: translateX(-100%); /* KLÍČOVÁ VLASTNOST: Panel je posunut o 100 % své šířky doleva, tedy mimo obrazovku. */
    transition: transform .3s cubic-bezier(.77,.2,.05,1); /* Definuje plynulou animaci pro vlastnost 'transform'. */
    overflow-y: auto; /* Pokud je obsah menu delší než výška obrazovky, objeví se scrollbar. */
    box-shadow: 0 0 2rem 0 rgba(0, 0, 0, .1); /* Jemný stín pro plastický efekt. */
    display: flex; /* Umožňuje flexibilní layout vnitřních prvků (hlavička, obsah). */
    flex-direction: column; /* Vnitřní prvky se řadí pod sebe. */
}

/* Překryvná vrstva (overlay) za menu, která ztmaví zbytek stránky. */
.popup-drawer-left .drawer-overlay-left {
    position: absolute; /* Pozice relativní k .popup-drawer-left. */
    top: 0; left: 0; right: 0; bottom: 0; /* Roztáhne se přes celou plochu. */
    opacity: 0; /* Ve výchozím stavu je plně průhledná. */
    transition: opacity .3s ease; /* Plynulá animace pro ztmavení. */
    cursor: pointer; /* Kurzorem dává najevo, že se na ni dá kliknout (pro zavření menu). */
}

/* Následující pravidla se aktivují, když má <body> třídu .left-menu-is-open (přidává se JavaScriptem). */

/* Zviditelní hlavní kontejner. */
body.left-menu-is-open .popup-drawer-left {
    visibility: visible;
}

/* Změní transformaci panelu na 0, čímž ho plynule vysune do obrazovky. */
body.left-menu-is-open .popup-drawer-left .drawer-inner-left {
    transform: translateX(0);
}

/* Zviditelní tmavou překryvnou vrstvu. */
body.left-menu-is-open .popup-drawer-left .drawer-overlay-left {
    opacity: 1;
}

/* Zabrání scrollování stránky na pozadí, když je menu otevřené. */
body.left-menu-is-open {
    overflow: hidden;
}

/* Hlavička uvnitř menu (obsahuje zavírací tlačítko). */
.drawer-header-left {
    display: flex; /* Používá flexbox... */
    justify-content: flex-end; /* ...pro zarovnání obsahu (tlačítka) doprava. */
    padding: 1em; /* Vnitřní odsazení. */
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Jemná oddělovací linka. */
}

/* Samotné zavírací tlačítko. */
.drawer-toggle-left.close-drawer {
    background: none;
    border: none;
    color: #fff;
    cursor: pointer;
    padding: 0.5em;
    line-height: 1;
}


/* ==========================================================================
   Sjednocení stylu pravého a levého mobilního menu (PŘEFORMÁTOVÁNO)
   ========================================================================== */

/* --- Pozadí pro oba vysouvací panely --- */
/* Cílí na vnitřní kontejner levého menu (#left-mobile-drawer) i pravého menu (#mobile-drawer)
   a nastavuje jim stejnou tmavě hnědou barvu pozadí.
   !important je použito pro přepsání výchozích stylů šablony. */
#left-mobile-drawer .drawer-inner-left,
#mobile-drawer .drawer-inner {
    background: #514332 !important;
}

/* --- Sjednocení obsahu (seznamu odkazů) --- */
/* Cílí na hlavní navigační seznam v obou menu.
   Nastavuje vnitřní odsazení (padding) a odstraňuje výchozí styly seznamu (odrážky). */
#left-mobile-drawer .left-mobile-navigation,
#mobile-drawer .mobile-navigation ul {
    padding-top: 2em !important;
    list-style: none !important;
    margin: 0 !important;
    padding-left: 1.5em !important;
    padding-right: 1.5em !important;
}

/* --- Sjednocení vzhledu všech položek menu --- */
/* Toto je klíčové pravidlo pro vzhled jednotlivých odkazů (<a>) v obou menu. */
#left-mobile-drawer .left-mobile-navigation li a,
#mobile-drawer .mobile-navigation li a {
    font-family: 'Playfair Display', serif !important; /* Nastavuje specifický font. */
    font-size: 17px !important;                       /* Větší velikost písma pro dobrou čitelnost. */
    font-weight: 400 !important;                      /* Normální tloušťka písma. */
    color: #f5f2eb !important;                        /* Světlá barva textu pro kontrast s tmavým pozadím. */
    text-transform: none !important;                  /* Zruší případnou transformaci na velká písmena. */
    letter-spacing: normal !important;                /* Normální mezery mezi písmeny. */
    text-decoration: none !important;                 /* Odstraní podtržení odkazu. */
    display: block !important;                        /* Odkaz se roztáhne na celou šířku položky, je tak snazší ho trefit. */
    padding: 0.8em 0 !important;                      /* Vertikální odsazení pro vzdušnost. */
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important; /* Jemná oddělovací linka mezi položkami. */
    background: none !important;                      /* Zajišťuje, že odkaz nemá vlastní pozadí. */
}

/* --- Odstranění linky u poslední položky --- */
/* Pomocí pseudo-třídy :last-of-type vybereme poslední položku (<li>) v každém menu
   a odstraníme jí spodní oddělovací linku. */
#left-mobile-drawer .left-mobile-navigation li:last-of-type a,
#mobile-drawer .mobile-navigation li:last-of-type a {
    border-bottom: none !important;
}

/* --- Styly pro textové popisky (specifické pro pravé menu) --- */
/* Tento styl se aplikuje pouze na speciální položky v pravém menu, které slouží jako nadpisy.
   Mají odlišný, menší a méně výrazný styl. */
#mobile-drawer .mobile-navigation .kadence-menu-label {
    font-family: 'Playfair Display', serif !important;
    color: rgba(255, 255, 255, 0.5) !important; /* Poloprůhledná bílá barva. */
    font-size: 16px !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    padding: 1.5em 0 0.5em !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* --- Zvýraznění aktivní stránky --- */
/* WordPress automaticky přidává třídu .current-menu-item položce menu, která odpovídá
   aktuálně zobrazené stránce. Tento styl ji zvýrazní - text bude čistě bílý a tučný. */
#left-mobile-drawer .left-mobile-navigation .current-menu-item > a,
#mobile-drawer .mobile-navigation .current-menu-item > a {
    color: #ffffff !important;
    font-weight: 700 !important;
}

/* ==========================================================================
   OPRAVA NEFUNKČNÍCH ODKAZŮ V LEVÉM MENU (PROBLÉM S VRSTVENÍM)
   ========================================================================== */

/* Zajistíme, aby vnitřní panel menu správně pracoval s vrstvami. */
#left-mobile-drawer .drawer-inner-left {
    position: relative; /* Nutné pro fungování z-indexu u vnořených prvků */
    z-index: 10;        /* Nastavíme vyšší vrstvu než má pozadí */
}

/* Samotné navigační prvky nepotřebují žádné speciální vrstvení,
   pokud je jejich rodič správně nastaven. */
#left-mobile-drawer .left-mobile-navigation {
    position: relative;
    z-index: 12;
}

/* Překryvná vrstva musí být naopak ve vrstvě nejnižší. */
#left-mobile-drawer .drawer-overlay-left {
    z-index: 1; /* Nejnižší vrstva */
}

/* ==========================================================================
   OPRAVA VÝŠKY MENU (ROZTAŽENÍ NA CELOU OBRAZOVKU)
   ========================================================================== */

#left-mobile-drawer .drawer-inner-left,
#mobile-drawer .drawer-inner {
    height: 100vh !important; /* Nastaví výšku na 100% výšky obrazovky */
}